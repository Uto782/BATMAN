<!DOCTYPE html>
<html lang="ja">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <title>Ë¶≥Êà¶„Ç¢„Éó„É™</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+JP:wght@400;500;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="style.css">
</head>

<body>
    <div class="app-container">
        <!-- Home Screen -->
        <div id="home-screen" class="screen active">
            <div class="screen-content">
                <header class="screen-header">
                    <h1>Ë¶≥Êà¶„Ç¢„Éó„É™</h1>
                    <p class="subtitle">Ë©¶Âêà„ÇíÁõõ„Çä‰∏ä„Åí„Çà„ÅÜÔºÅ</p>
                </header>

                <div class="connection-status">
                    <div class="status-indicator" id="connection-indicator">
                        <div class="status-dot disconnected"></div>
                        <div class="status-text">
                            <span class="status-label">Êé•Á∂öÁä∂ÊÖã</span>
                            <span class="status-value" id="connection-status">Êú™Êé•Á∂ö</span>
                        </div>
                    </div>
                    <div class="device-name" id="device-name-display">
                        <span class="device-label">„Éá„Éê„Ç§„Çπ</span>
                        <span class="device-value" id="device-name">‚Äî</span>
                    </div>
                </div>

                <div class="action-buttons">
                    <button class="btn btn-primary" id="connect-btn">
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M17 8l4 4m0 0l-4 4m4-4H3" />
                        </svg>
                        „Éá„Éê„Ç§„Çπ„Å´Êé•Á∂ö
                    </button>

                    <button class="btn btn-success" id="start-session-btn" disabled>
                        <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <circle cx="12" cy="12" r="10" />
                            <polygon points="10 8 16 12 10 16 10 8" />
                        </svg>
                        Ë¶≥Êà¶„ÇíÈñãÂßã
                    </button>
                </div>

                <div class="info-card">
                    <h3>‰Ωø„ÅÑÊñπ</h3>
                    <ol>
                        <li>„Éá„Éê„Ç§„Çπ„Å´Êé•Á∂ö„Éú„Çø„É≥„ÇíÊäº„Åô</li>
                        <li>„ÅäÂ≠êÊßò„ÅÆ„Éá„Éê„Ç§„Çπ„ÇíÈÅ∏Êäû</li>
                        <li>Ë¶≥Êà¶„ÇíÈñãÂßã„Éú„Çø„É≥„ÅßË©¶ÂêàÈñãÂßã</li>
                    </ol>
                </div>
            </div>
        </div>

        <!-- Spectating Screen -->
        <div id="spectating-screen" class="screen">
            <div class="screen-content">
                <header class="screen-header">
                    <h1>Ë¶≥Êà¶‰∏≠</h1>
                    <div class="session-info">
                        <div class="info-row">
                            <span class="info-label">ÈñãÂßãÊôÇÂàª</span>
                            <span class="info-value" id="session-start-time">‚Äî</span>
                        </div>
                        <div class="info-row">
                            <span class="info-label">„Éá„Éê„Ç§„Çπ</span>
                            <span class="info-value" id="session-device-name">‚Äî</span>
                        </div>
                    </div>
                </header>

                <div class="tap-counter">
                    <div class="counter-label">Á¥ØË®àÂè©„ÅçÂõûÊï∞</div>
                    <div class="counter-value" id="tap-count">0</div>
                    <div class="counter-unit">Âõû</div>
                </div>

                <div class="status-buttons">
                    <button class="status-btn status-normal" id="normal-btn" data-pattern="0">
                        <div class="status-icon">üòå</div>
                        <div class="status-label">ÈÄöÂ∏∏</div>
                    </button>

                    <button class="status-btn status-chance" id="chance-btn" data-pattern="1">
                        <div class="status-icon">üî•</div>
                        <div class="status-label">„ÉÅ„É£„É≥„Çπ</div>
                    </button>

                    <button class="status-btn status-pinch" id="pinch-btn" data-pattern="2">
                        <div class="status-icon">üí™</div>
                        <div class="status-label">„Éî„É≥„ÉÅ</div>
                    </button>
                </div>

                <div class="session-stats">
                    <div class="stat-item">
                        <div class="stat-value" id="chance-count">0</div>
                        <div class="stat-label">„ÉÅ„É£„É≥„Çπ</div>
                    </div>
                    <div class="stat-item">
                        <div class="stat-value" id="pinch-count">0</div>
                        <div class="stat-label">„Éî„É≥„ÉÅ</div>
                    </div>
                </div>

                <button class="btn btn-danger" id="end-session-btn">
                    <svg class="btn-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <rect x="3" y="3" width="18" height="18" rx="2" ry="2" />
                    </svg>
                    Ë¶≥Êà¶„ÇíÁµÇ‰∫Ü
                </button>
            </div>
        </div>

        <!-- Log Screen -->
        <div id="log-screen" class="screen">
            <div class="screen-content">
                <header class="screen-header">
                    <h1>Ë¶≥Êà¶„É≠„Ç∞</h1>
                    <p class="subtitle">ÈÅéÂéª„ÅÆË¶≥Êà¶Ë®òÈå≤</p>
                </header>

                <div class="session-list" id="session-list">
                    <!-- Sessions will be dynamically inserted here -->
                </div>

                <div class="empty-state" id="empty-state">
                    <svg class="empty-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M9 11l3 3L22 4" />
                        <path d="M21 12v7a2 2 0 01-2 2H5a2 2 0 01-2-2V5a2 2 0 012-2h11" />
                    </svg>
                    <p>„Åæ„Å†Ë¶≥Êà¶Ë®òÈå≤„Åå„ÅÇ„Çä„Åæ„Åõ„Çì</p>
                    <p class="empty-hint">„Éõ„Éº„É†ÁîªÈù¢„Åã„ÇâË¶≥Êà¶„ÇíÈñãÂßã„Åó„Åæ„Åó„Çá„ÅÜ</p>
                </div>
            </div>
        </div>

        <!-- Bottom Navigation -->
        <nav class="bottom-nav">
            <button class="nav-item active" data-screen="home-screen">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M3 9l9-7 9 7v11a2 2 0 01-2 2H5a2 2 0 01-2-2z" />
                    <polyline points="9 22 9 12 15 12 15 22" />
                </svg>
                <span class="nav-label">„Éõ„Éº„É†</span>
            </button>

            <button class="nav-item" data-screen="spectating-screen">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <circle cx="12" cy="12" r="10" />
                    <polygon points="10 8 16 12 10 16 10 8" />
                </svg>
                <span class="nav-label">Ë¶≥Êà¶</span>
            </button>

            <button class="nav-item" data-screen="log-screen">
                <svg class="nav-icon" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                    <path d="M14 2H6a2 2 0 00-2 2v16a2 2 0 002 2h12a2 2 0 002-2V8z" />
                    <polyline points="14 2 14 8 20 8" />
                    <line x1="16" y1="13" x2="8" y2="13" />
                    <line x1="16" y1="17" x2="8" y2="17" />
                    <polyline points="10 9 9 9 8 9" />
                </svg>
                <span class="nav-label">„É≠„Ç∞</span>
            </button>
        </nav>
    </div>

    <!-- Session Detail Modal -->
    <div class="modal" id="session-detail-modal">
        <div class="modal-content">
            <div class="modal-header">
                <h2 id="modal-title">Ë¶≥Êà¶Ë©≥Á¥∞</h2>
                <button class="modal-close" id="close-modal">
                    <svg viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <line x1="18" y1="6" x2="6" y2="18" />
                        <line x1="6" y1="6" x2="18" y2="18" />
                    </svg>
                </button>
            </div>
            <div class="modal-body" id="modal-body">
                <!-- Session details will be inserted here -->
            </div>
        </div>
    </div>

    <script src="data-manager.js"></script>
    <script src="ble-manager.js"></script>
    <script src="home-screen.js"></script>
    <script src="spectating-screen.js"></script>
    <script src="log-screen.js"></script>
    <script src="app.js"></script>
</body>

</html>